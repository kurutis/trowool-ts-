import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { logout } from '../../actions/forProfileAction';
import s from './User.module.css';
import { AuthForm } from '../AuthForm_profile/AuthForm';
import { store } from '../../app/store';

interface User {
    email: string;
    snp: string;
    phone: string;
    nick: string; 
}

export const User: React.FC = () => {
    const dispatch = useDispatch();
    const user = useSelector((state: store) => state.forProfile.user) as User | null;

    if (!user) {
        return <AuthForm />;
    }

    return (
        <div className={s.profile_container}>
            <h2>Профиль пользователя</h2>
            <div className={s.profile}>
                <p className={s.info_profile}>
                    <svg>
                        <path d="M15 3.75C8.78 3.75 3.75 8.78 3.75 15C3.75 21.21 8.78 26.25 15 26.25C16.03 26.25 16.87 27.08 16.87 28.12C16.87 29.16 16.03 30 15 30C6.71 30 0 23.28 0 15C0 6.71 6.71 0 15 0C23.28 0 30 6.71 30 15L30 16.87C30 19.98 27.48 22.5 24.37 22.5C22.65 22.5 21.11 21.72 20.08 20.51C18.75 21.74 16.96 22.5 15 22.5C10.85 22.5 7.5 19.14 7.5 15C7.5 10.85 10.85 7.5 15 7.5C16.63 7.5 18.14 8.02 19.37 8.91C19.71 8.61 20.14 8.43 20.62 8.43C21.66 8.43 22.5 9.27 22.5 10.31L22.5 15L22.5 16.87C22.5 17.91 23.33 18.75 24.37 18.75C25.41 18.75 26.25 17.91 26.25 16.87L26.25 15C26.25 8.78 21.21 3.75 15 3.75ZM18.75 15C18.75 14.75 18.72 14.51 18.67 14.26C18.62 14.02 18.55 13.79 18.46 13.56C18.37 13.33 18.25 13.12 18.11 12.91C17.98 12.71 17.82 12.52 17.65 12.34C17.47 12.17 17.28 12.01 17.08 11.88C16.87 11.74 16.66 11.62 16.43 11.53C16.2 11.44 15.97 11.37 15.73 11.32C15.49 11.27 15.24 11.25 15 11.25C14.75 11.25 14.51 11.27 14.26 11.32C14.02 11.37 13.79 11.44 13.56 11.53C13.33 11.62 13.12 11.74 12.91 11.88C12.71 12.01 12.52 12.17 12.34 12.34C12.17 12.52 12.01 12.71 11.88 12.91C11.74 13.12 11.62 13.33 11.53 13.56C11.44 13.79 11.37 14.02 11.32 14.26C11.27 14.51 11.25 14.75 11.25 15C11.25 15.24 11.27 15.49 11.32 15.73C11.37 15.97 11.44 16.2 11.53 16.43C11.62 16.66 11.74 16.87 11.88 17.08C12.01 17.28 12.17 17.47 12.34 17.65C12.52 17.82 12.71 17.98 12.91 18.11C13.12 18.25 13.33 18.37 13.56 18.46C13.79 18.55 14.02 18.62 14.26 18.67C14.51 18.72 14.75 18.75 15 18.75C15.24 18.75 15.49 18.72 15.73 18.67C15.97 18.62 16.2 18.55 16.43 18.46C16.66 18.37 16.87 18.25 17.08 18.11C17.28 17.98 17.47 17.82 17.65 17.65C17.82 17.47 17.98 17.28 18.11 17.08C18.25 16.87 18.37 16.66 18.46 16.43C18.55 16.2 18.62 15.97 18.67 15.73C18.72 15.49 18.75 15.24 18.75 15Z" fill="#BC354F" />
                    </svg>
                    <span>Email:</span> {user.email}
                </p>
                <p className={s.info_profile}>
                    <svg>
                        <path d="M19 8C19 7.83 18.99 7.67 18.97 7.5C18.96 7.34 18.93 7.18 18.9 7.02C18.87 6.86 18.83 6.7 18.78 6.54C18.73 6.39 18.68 6.23 18.61 6.08C18.55 5.93 18.48 5.78 18.41 5.64C18.33 5.49 18.24 5.35 18.15 5.22C18.06 5.08 17.96 4.95 17.86 4.82C17.76 4.7 17.65 4.57 17.53 4.46C17.42 4.34 17.29 4.23 17.17 4.13C17.04 4.02 16.91 3.93 16.77 3.84C16.64 3.75 16.5 3.66 16.35 3.58C16.21 3.51 16.06 3.44 15.91 3.37C15.76 3.31 15.6 3.26 15.45 3.21C15.29 3.16 15.13 3.12 14.97 3.09C14.81 3.06 14.65 3.03 14.49 3.02C14.32 3 14.16 2.99 14 2.99C13.83 2.99 13.67 3 13.5 3.02C13.34 3.03 13.18 3.06 13.02 3.09C12.86 3.12 12.7 3.16 12.54 3.21C12.39 3.26 12.23 3.31 12.08 3.37C11.93 3.44 11.78 3.51 11.64 3.58C11.49 3.66 11.35 3.75 11.22 3.84C11.08 3.93 10.95 4.02 10.82 4.13C10.7 4.23 10.57 4.34 10.46 4.46C10.34 4.57 10.23 4.7 10.13 4.82C10.03 4.95 9.93 5.08 9.84 5.22C9.75 5.35 9.66 5.49 9.58 5.64C9.51 5.78 9.44 5.93 9.38 6.08C9.31 6.23 9.26 6.39 9.21 6.54C9.16 6.7 9.12 6.86 9.09 7.02C9.06 7.18 9.03 7.34 9.02 7.5C9 7.67 9 7.83 9 8C9 8.16 9 8.32 9.02 8.49C9.03 8.65 9.06 8.81 9.09 8.97C9.12 9.13 9.16 9.29 9.21 9.45C9.26 9.6 9.31 9.76 9.38 9.91C9.44 10.06 9.51 10.21 9.58 10.35C9.66 10.5 9.75 10.64 9.84 10.77C9.93 10.91 10.03 11.04 10.13 11.17C10.23 11.29 10.34 11.42 10.46 11.53C10.57 11.65 10.7 11.76 10.82 11.86C10.95 11.97 11.08 12.06 11.22 12.15C11.35 12.24 11.49 12.33 11.64 12.41C11.78 12.48 11.93 12.55 12.08 12.62C12.23 12.68 12.39 12.73 12.54 12.78C12.7 12.83 12.86 12.87 13.02 12.9C13.18 12.93 13.34 12.96 13.5 12.97C13.67 12.99 13.83 13 14 13C14.16 13 14.32 12.99 14.49 12.97C14.65 12.96 14.81 12.93 14.97 12.9C15.13 12.87 15.29 12.83 15.45 12.78C15.6 12.73 15.76 12.68 15.91 12.62C16.06 12.55 16.21 12.48 16.35 12.41C16.5 12.33 16.64 12.24 16.77 12.15C16.91 12.06 17.04 11.97 17.17 11.86C17.29 11.76 17.42 11.65 17.53 11.53C17.65 11.42 17.76 11.29 17.86 11.17C17.96 11.04 18.06 10.91 18.15 10.77C18.24 10.64 18.33 10.5 18.41 10.35C18.48 10.21 18.55 10.06 18.61 9.91C18.68 9.76 18.73 9.6 18.78 9.45C18.83 9.29 18.87 9.13 18.9 8.97C18.93 8.81 18.96 8.65 18.97 8.49C18.99 8.32 19 8.16 19 8ZM6 8C6 7.73 6.01 7.47 6.03 7.21C6.06 6.95 6.1 6.69 6.15 6.43C6.2 6.18 6.26 5.92 6.34 5.67C6.42 5.42 6.5 5.18 6.6 4.93C6.7 4.69 6.82 4.45 6.94 4.22C7.06 3.99 7.2 3.77 7.34 3.55C7.49 3.33 7.64 3.12 7.81 2.92C7.98 2.72 8.15 2.52 8.34 2.34C8.52 2.15 8.72 1.98 8.92 1.81C9.12 1.64 9.33 1.49 9.55 1.34C9.77 1.2 9.99 1.06 10.22 0.94C10.45 0.82 10.69 0.7 10.93 0.6C11.18 0.5 11.42 0.42 11.67 0.34C11.92 0.26 12.18 0.2 12.43 0.15C12.69 0.1 12.95 0.06 13.21 0.03C13.47 0.01 13.73 0 14 0C14.26 0 14.52 0.01 14.78 0.03C15.04 0.06 15.3 0.1 15.56 0.15C15.81 0.2 16.07 0.26 16.32 0.34C16.57 0.42 16.81 0.5 17.06 0.6C17.3 0.7 17.54 0.82 17.77 0.94C18 1.06 18.22 1.2 18.44 1.34C18.66 1.49 18.87 1.64 19.07 1.81C19.27 1.98 19.47 2.15 19.65 2.34C19.84 2.52 20.01 2.72 20.18 2.92C20.35 3.12 20.5 3.33 20.65 3.55C20.79 3.77 20.93 3.99 21.05 4.22C21.17 4.45 21.29 4.69 21.39 4.93C21.49 5.18 21.57 5.42 21.65 5.67C21.73 5.92 21.79 6.18 21.84 6.43C21.89 6.69 21.93 6.95 21.96 7.21C21.98 7.47 22 7.73 22 8C22 8.26 21.98 8.52 21.96 8.78C21.93 9.04 21.89 9.3 21.84 9.56C21.79 9.81 21.73 10.07 21.65 10.32C21.57 10.57 21.49 10.81 21.39 11.06C21.29 11.3 21.17 11.54 21.05 11.77C20.93 12 20.79 12.22 20.65 12.44C20.5 12.66 20.35 12.87 20.18 13.07C20.01 13.27 19.84 13.47 19.65 13.65C19.47 13.84 19.27 14.01 19.07 14.18C18.87 14.35 18.66 14.5 18.44 14.65C18.22 14.79 18 14.93 17.77 15.05C17.54 15.17 17.3 15.29 17.06 15.39C16.81 15.49 16.57 15.57 16.32 15.65C16.07 15.73 15.81 15.79 15.56 15.84C15.3 15.89 15.04 15.93 14.78 15.96C14.52 15.98 14.26 16 14 16C13.73 16 13.47 15.98 13.21 15.96C12.95 15.93 12.69 15.89 12.43 15.84C12.18 15.79 11.92 15.73 11.67 15.65C11.42 15.57 11.18 15.49 10.93 15.39C10.69 15.29 10.45 15.17 10.22 15.05C9.99 14.93 9.77 14.79 9.55 14.65C9.33 14.5 9.12 14.35 8.92 14.18C8.72 14.01 8.52 13.84 8.34 13.65C8.15 13.47 7.98 13.27 7.81 13.07C7.64 12.87 7.49 12.66 7.34 12.44C7.2 12.22 7.06 12 6.94 11.77C6.82 11.54 6.7 11.3 6.6 11.06C6.5 10.81 6.42 10.57 6.34 10.32C6.26 10.07 6.2 9.81 6.15 9.56C6.1 9.3 6.06 9.04 6.03 8.78C6.01 8.52 6 8.26 6 8ZM3.08 29L24.92 29C24.36 25.04 20.96 22 16.86 22L11.15 22C7.04 22 3.63 25.04 3.08 29ZM0 30.14C0 23.98 4.98 19 11.14 19L16.85 19C23.01 19 28 23.98 28 30.14C28 31.16 27.16 32 26.14 32L1.85 32C0.83 32 0 31.16 0 30.14Z" fill="#BC354F" />
                    </svg>
                    <span>ФИО:</span> {user.snp}
                </p>
                <p className={s.info_profile}>
                    <svg>
                        <path d="M9.66 1.38C9.21 0.33 8.02 -0.22 6.88 0.08L1.72 1.43C0.7 1.7 0 2.59 0 3.6C0 17.54 11.75 28.84 26.24 28.84C27.3 28.84 28.22 28.16 28.51 27.18L29.91 22.22C30.22 21.13 29.64 19.98 28.55 19.55L22.93 17.3C21.97 16.91 20.87 17.18 20.21 17.95L17.85 20.73C13.72 18.85 10.38 15.64 8.43 11.68L11.32 9.4C12.12 8.77 12.4 7.71 12 6.8L9.66 1.38Z" fill="#BC354F" />
                    </svg>
                    <span>Телефон:</span> {user.phone}
                </p>
                <p className={s.info_profile}>
                    <svg>
                        <path d="M15.99 0C14.41 0 13.04 0.86 12.39 2.1C11.96 1.95 11.49 1.87 10.99 1.87C8.79 1.87 6.99 3.55 6.99 5.62L6.99 15.32L6.82 15.16C5.26 13.69 2.73 13.69 1.17 15.16C-0.4 16.62 -0.4 19 1.17 20.46L6.65 25.6C9.65 28.41 13.72 30 17.96 30L18.49 30L18.99 30C19.09 30 19.18 29.99 19.28 29.97C25.01 29.61 29.59 25.32 29.97 19.95C29.99 19.86 30 19.77 30 19.68L30 9.37C30 7.3 28.2 5.62 25.99 5.62C25.65 5.62 25.31 5.66 24.99 5.74L24.99 5.62C24.99 3.55 23.2 1.87 20.99 1.87C20.5 1.87 20.03 1.95 19.59 2.1C18.94 0.86 17.58 0 15.99 0ZM14.99 5.63L14.99 3.75C14.99 3.23 15.44 2.81 15.99 2.81C16.54 2.81 16.99 3.23 16.99 3.75L16.99 5.61L16.99 13.59C16.99 14.37 17.66 15 18.49 15C19.33 15 19.99 14.37 19.99 13.59L19.99 5.62C19.99 5.1 20.44 4.68 20.99 4.68C21.54 4.68 21.99 5.1 21.99 5.61L21.99 8.89L21.99 8.9L21.99 13.58C21.99 14.36 22.66 14.99 23.49 14.99C24.33 14.99 24.99 14.36 24.99 13.58L24.99 9.37L24.99 9.36C24.99 8.85 25.44 8.43 25.99 8.43C26.54 8.43 26.99 8.85 26.99 9.36L26.99 19.5C26.99 19.53 26.99 19.57 26.98 19.61C26.77 23.69 23.28 26.97 18.92 27.16C18.88 27.16 18.84 27.17 18.8 27.18L18.49 27.18L17.96 27.18C14.51 27.18 11.21 25.89 8.77 23.61L3.29 18.47C2.9 18.11 2.9 17.51 3.29 17.15C3.67 16.78 4.31 16.78 4.7 17.15L7.43 19.71C7.86 20.11 8.51 20.23 9.07 20.01C9.63 19.79 9.99 19.28 9.99 18.71L9.99 5.62C9.99 5.1 10.44 4.68 10.99 4.68C11.54 4.68 11.99 5.1 11.99 5.61L11.99 13.59C11.99 14.37 12.66 15 13.49 15C14.32 15 14.99 14.37 14.99 13.59L14.99 5.63Z" fill="#BC354F" />
                    </svg>
                    <span>Имя на сайте:</span> {user.nick}
                </p>
            </div>
            <button className={s.btn_profile} onClick={() => dispatch(logout())}>
                Выйти
            </button>
        </div>
    );
};